# config/baseline_single.yaml
experiment:
  name: "baseline_single_agent"
  description: "Single agent baseline"
  timestamp: null  # Auto-generated if null

llm:
  provider: "openai"  # "ollama, "openai", "anthropic"
  model: "gpt-4o-mini"
  # provider: "ollama"  # "ollama, "openai", "anthropic"
  # model: "gemma3:270m"
  # model: "gpt-oss:latest"
  provider: "anthropic"
  model: "claude-sonnet-4-20250514"
  temperature: 1  # 0.0 for reproducibility, higher for creativity

workflow:
  type: "single_agent"
  agent_sequence: ["main"]  # Order of agent execution
  max_total_iterations: 10  # Maximum iterations for multi-agent workflows
  final_output_structured:
    enabled: false
    schema: null

agents:
  main:
    system_prompt: |
      You are an expert log analyst. Analyze system logs to:
      1. Identify key events and state changes
      2. Map events to intent expectations if intent is provided
      3. Determine if system is compliant or degraded
      4. Provide clear, factual explanations

      Be concise and evidence-based. Only cite information from logs.

      Use available tools to achieve your goal.
    tools:
      - read_file
      - search_logs
    max_tokens: 16384
    max_iterations: 10
    temperature: null  # Uses llm.temperature if null, can override per-agent
    # provider: "ollama"  # Uses llm.provider if null
    # model: "qwen3:4b-instruct"  # Uses llm.model if null
    api_key: null  # Uses llm.api_key if null
    base_url: null  # Uses llm.base_url if null
    structured_output:
      enabled: true
      schema: "AnomalyDetectionOutput"

data:
  # log_source: "data/logs/openstack-medium/openstack_200.log"
  log_source: "data/logs/openstack/nova-api.log"
  intent_source: "data/intents/nova_api_latency_intent/nova_api_latency_intent.ttl"
  # intent_source: null  # "data/intents/synthetic_intent_1.json"
  index_method: "simple"  # or "vector"
  chunk_size: 1000

evaluation:
  metrics:
    - accuracy
    - completeness
    - coherence
  output_dir: "experiments/results/baseline_single/"